import{s as W,x as X,o as Z,w as ee,d as n,j as te,z as i,A as l,e,T as V,p as j,r as u,B as se,c as a,C as r,t as c,f as G,g as z,k as d,F as U,E as O,h as M,m as T,n as oe}from"./index-B9jCymwr.js";import{a as p,S as P,b as w}from"./Select-DwgHBtPx.js";import{_ as D}from"./Toggle-BSRoALFV.js";const le={class:"space-y-6 pb-24"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re={class:"space-y-4"},ne={class:"flex items-center justify-between"},ae={class:"text-sm font-medium text-discord-blurple"},de={class:"space-y-4"},ue={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2"},ce=["onClick"],me={class:"flex flex-col items-center text-center"},ge={class:"w-10 h-10 bg-gradient-to-br from-pink-500/20 to-purple-500/20 rounded-lg flex items-center justify-center mb-1.5"},pe={class:"text-xl"},ve={class:"text-white font-medium text-xs truncate w-full"},xe={class:"text-[10px] text-discord-text-tertiary truncate w-full"},fe={key:0,class:"flex items-center justify-center py-12 border-2 border-dashed border-discord-bg-tertiary rounded-xl mt-4"},be={key:0,class:"fixed bottom-6 right-6 z-50 flex items-center gap-4 bg-discord-bg-primary px-6 py-3 rounded-lg shadow-2xl border border-discord-bg-tertiary"},ye={class:"relative bg-discord-bg-secondary rounded-xl shadow-2xl border border-discord-bg-tertiary w-full max-w-md"},we={class:"p-4 space-y-4"},he={class:"grid grid-cols-10 gap-1"},ke=["onClick"],Me={class:"bg-discord-bg-tertiary rounded-lg p-3"},Se={class:"flex items-center gap-2"},Ce={class:"text-2xl"},_e={class:"text-white font-medium"},Ve={class:"flex justify-end gap-2 p-4 border-t border-discord-bg-tertiary"},je={class:"relative bg-discord-bg-secondary rounded-xl shadow-2xl border border-discord-bg-tertiary w-full max-w-sm p-6"},Ge={class:"text-center"},ze={class:"flex gap-3 justify-center"},Ue={__name:"MusicView",setup(De){const E=se(),o=W(),B=X(),v=j(()=>E.params.guildId),L=j(()=>B.getChannelOptions(v.value)),J=[{value:60,label:"1 menit"},{value:120,label:"2 menit"},{value:300,label:"5 menit"},{value:600,label:"10 menit"},{value:900,label:"15 menit"},{value:1800,label:"30 menit"},{value:3600,label:"60 menit"}],x=u(""),H=j(()=>{if(!x.value)return!1;const y=["music_auto_delete","music_default_volume","music_shuffle","music_repeat","music_channel_id","auto_disconnect_time"],t={},s={};return y.forEach(g=>{t[g]=o.guildSettings[g];const K=JSON.parse(x.value);s[g]=K[g]}),JSON.stringify(t)!==JSON.stringify(s)});function $(){x.value=JSON.stringify(o.guildSettings)}const S=u(!1),m=u(""),f=u(""),b=u("ðŸŽµ"),C=u(!1),h=u(null),q=["ðŸŽµ","ðŸŽ¶","ðŸŽ¼","ðŸŽ¹","ðŸŽ¸","ðŸŽº","ðŸŽ»","ðŸ¥","ðŸŽ¤","ðŸŽ§","ðŸ”¥","â­","âœ¨","ðŸ’«","ðŸŒŸ","ðŸ’œ","ðŸ’™","ðŸ’š","ðŸ’›","â¤ï¸","ðŸŽ‰","ðŸŽŠ","ðŸŽˆ","ðŸŽ€","ðŸŒˆ","â˜€ï¸","ðŸŒ™","âš¡","ðŸ’¥","ðŸ”®"];function A(){m.value="",f.value="",b.value="ðŸŽµ",S.value=!0}function k(){S.value=!1}async function F(){if(!m.value.trim()||!f.value.trim()){o.showStatus("Please fill in all fields","error");return}await o.addUserMusicGenre({genre_name:m.value.trim(),search_query:f.value.trim(),emoji:b.value}),k()}function I(y){h.value=y,C.value=!0}function _(){C.value=!1,h.value=null}async function Q(){h.value&&(await o.deleteUserMusicGenre(h.value),_())}Z(()=>{N(),R()}),ee(v,()=>{x.value="",N()});async function N(){await Promise.all([o.loadGuildSettings(v.value),B.loadChannels(v.value)]),x.value=JSON.stringify(o.guildSettings)}async function R(){await o.loadUserMusicGenres()}async function Y(){await o.saveGuildSettings(v.value)&&$()}return(y,t)=>(a(),n("div",le,[t[41]||(t[41]=te('<div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-discord-green to-teal-600 rounded-xl flex items-center justify-center shadow-lg"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg></div><div><h2 class="text-xl font-bold text-white">Music Settings</h2><p class="text-discord-text-secondary text-sm">Configure music player behavior</p></div></div></div>',1)),i(p,null,{title:l(()=>[...t[8]||(t[8]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})]),e("span",null,"Auto-Delete")],-1)])]),default:l(()=>[i(D,{modelValue:r(o).guildSettings.music_auto_delete,"onUpdate:modelValue":t[0]||(t[0]=s=>r(o).guildSettings.music_auto_delete=s),label:"Auto-Delete Messages",description:"Automatically delete music player messages after playback"},null,8,["modelValue"])]),_:1}),i(p,null,{title:l(()=>[...t[9]||(t[9]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})]),e("span",null,"Music Channel")],-1)])]),default:l(()=>[t[10]||(t[10]=e("p",{class:"text-discord-text-secondary text-sm mb-4"}," Pilih channel di mana bot akan mengirim notifikasi music (now playing, queue info, dll) ",-1)),i(P,{modelValue:r(o).guildSettings.music_channel_id,"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).guildSettings.music_channel_id=s),label:"Music Channel",placeholder:"Pilih channel (opsional)",options:L.value},null,8,["modelValue","options"]),t[11]||(t[11]=e("p",{class:"text-xs text-discord-text-tertiary mt-2"}," Jika tidak dipilih, notifikasi music akan dikirim di channel tempat command dipanggil. ",-1))]),_:1}),e("div",ie,[i(p,null,{title:l(()=>[...t[12]||(t[12]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",null,"Auto Disconnect")],-1)])]),default:l(()=>[i(P,{modelValue:r(o).guildSettings.auto_disconnect_time,"onUpdate:modelValue":t[2]||(t[2]=s=>r(o).guildSettings.auto_disconnect_time=s),modelModifiers:{number:!0},label:"Idle Timeout",placeholder:"Pilih waktu",options:J},null,8,["modelValue"]),t[13]||(t[13]=e("p",{class:"text-xs text-discord-text-tertiary mt-2"}," Bot akan otomatis disconnect setelah tidak ada aktivitas. ",-1))]),_:1}),i(p,null,{title:l(()=>[...t[14]||(t[14]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})]),e("span",null,"Volume")],-1)])]),default:l(()=>[e("div",re,[e("div",ne,[t[15]||(t[15]=e("label",{class:"text-sm font-medium text-white"},"Default Volume",-1)),e("span",ae,c(r(o).guildSettings.music_default_volume||50)+"%",1)]),G(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r(o).guildSettings.music_default_volume=s),type:"range",min:"0",max:"100",class:"w-full h-2 bg-discord-bg-tertiary rounded-lg appearance-none cursor-pointer accent-discord-blurple"},null,512),[[z,r(o).guildSettings.music_default_volume,void 0,{number:!0}]]),t[16]||(t[16]=e("p",{class:"text-xs text-discord-text-tertiary"}," Default volume untuk music player (0-100%) ",-1))])]),_:1})]),i(p,null,{title:l(()=>[...t[17]||(t[17]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",null,"Playback Options")],-1)])]),default:l(()=>[e("div",de,[i(D,{modelValue:r(o).guildSettings.music_shuffle,"onUpdate:modelValue":t[4]||(t[4]=s=>r(o).guildSettings.music_shuffle=s),label:"Shuffle by Default",description:"Enable shuffle mode when adding songs to queue"},null,8,["modelValue"]),i(D,{modelValue:r(o).guildSettings.music_repeat,"onUpdate:modelValue":t[5]||(t[5]=s=>r(o).guildSettings.music_repeat=s),label:"Repeat by Default",description:"Enable repeat mode when playing music"},null,8,["modelValue"])])]),_:1}),i(p,null,{title:l(()=>[...t[18]||(t[18]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),e("span",null,"Custom Genres")],-1)])]),default:l(()=>[t[22]||(t[22]=e("p",{class:"text-discord-text-tertiary text-sm mb-4"},[d(" Tambahkan genre musik custom yang akan muncul di command "),e("code",{class:"bg-discord-bg-tertiary px-1.5 py-0.5 rounded text-discord-blurple"},"!rplay"),d(" dan "),e("code",{class:"bg-discord-bg-tertiary px-1.5 py-0.5 rounded text-discord-blurple"},"!uplay"),d(". Genre ini hanya bisa dilihat dan digunakan oleh Anda. ")],-1)),e("div",ue,[(a(!0),n(U,null,O(r(o).userMusicGenres,s=>(a(),n("div",{key:s.id,class:"relative group bg-gradient-to-br from-discord-bg-secondary to-discord-bg-tertiary rounded-lg p-3 hover:from-discord-bg-hover hover:to-discord-bg-secondary transition-all duration-200 border border-discord-bg-tertiary hover:border-pink-500/30 shadow-sm hover:shadow-md"},[e("button",{onClick:g=>I(s.id),class:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-discord-text-tertiary hover:text-red-500 transition-all p-1 bg-discord-bg-primary/80 rounded-md hover:bg-discord-bg-primary",title:"Delete genre"},[...t[19]||(t[19]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ce),e("div",me,[e("div",ge,[e("span",pe,c(s.emoji),1)]),e("p",ve,c(s.genre_name),1),e("p",xe,c(s.search_query),1)])]))),128)),e("div",{onClick:A,class:"bg-discord-bg-tertiary border-2 border-dashed border-discord-bg-hover rounded-lg p-3 hover:border-pink-500 hover:bg-discord-bg-hover transition-all cursor-pointer group flex flex-col items-center justify-center"},[...t[20]||(t[20]=[e("div",{class:"w-10 h-10 bg-discord-bg-hover rounded-lg flex items-center justify-center mb-1.5 group-hover:bg-pink-500/20 transition-colors"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-discord-text-secondary group-hover:text-pink-400 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),e("p",{class:"text-discord-text-secondary text-xs font-medium group-hover:text-pink-400 transition-colors"},"Add",-1)])])]),r(o).userMusicGenres.length===0?(a(),n("div",fe,[e("div",{class:"text-center"},[e("button",{onClick:A,class:"text-discord-text-secondary hover:text-pink-400 transition-colors flex flex-col items-center gap-3 group"},[...t[21]||(t[21]=[e("div",{class:"w-16 h-16 bg-discord-bg-tertiary rounded-2xl flex items-center justify-center group-hover:bg-pink-500/20 transition-colors"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})])],-1),e("span",{class:"text-sm font-medium"},"Add your first custom genre",-1)])])])])):M("",!0)]),_:1}),i(V,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"translate-y-20 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-20 opacity-0"},{default:l(()=>[H.value?(a(),n("div",be,[t[24]||(t[24]=e("span",{class:"text-sm text-discord-text-secondary"},"You have unsaved changes",-1)),i(w,{onClick:Y},{default:l(()=>[...t[23]||(t[23]=[d("Save Changes",-1)])]),_:1})])):M("",!0)]),_:1}),i(V,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[S.value?(a(),n("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4",onClick:T(k,["self"])},[t[34]||(t[34]=e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),e("div",ye,[e("div",{class:"flex items-center justify-between p-4 border-b border-discord-bg-tertiary"},[t[26]||(t[26]=e("h3",{class:"text-lg font-bold text-white"},"Add Custom Genre",-1)),e("button",{onClick:k,class:"text-discord-text-secondary hover:text-white transition-colors p-1"},[...t[25]||(t[25]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",we,[e("div",null,[t[27]||(t[27]=e("label",{class:"text-sm font-medium text-white block mb-2"},"Genre Name",-1)),G(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>m.value=s),type:"text",placeholder:"Contoh: Dangdut",class:"w-full px-3 py-2 bg-discord-bg-tertiary border border-discord-bg-tertiary rounded-lg text-white placeholder-discord-text-secondary focus:outline-none focus:border-discord-blurple"},null,512),[[z,m.value]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-sm font-medium text-white block mb-2"},"Search Query",-1)),G(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>f.value=s),type:"text",placeholder:"lagu dangdut terbaru 2024",class:"w-full px-3 py-2 bg-discord-bg-tertiary border border-discord-bg-tertiary rounded-lg text-white placeholder-discord-text-secondary focus:outline-none focus:border-discord-blurple"},null,512),[[z,f.value]]),t[29]||(t[29]=e("p",{class:"text-xs text-discord-text-secondary mt-1"}," Kata pencarian untuk YouTube Music ",-1))]),e("div",null,[t[30]||(t[30]=e("label",{class:"text-sm font-medium text-white block mb-2"},"Select Emoji",-1)),e("div",he,[(a(),n(U,null,O(q,s=>e("button",{key:s,onClick:g=>b.value=s,class:oe(["w-8 h-8 text-lg rounded transition-all flex items-center justify-center",b.value===s?"bg-discord-blurple text-white ring-2 ring-discord-blurple ring-offset-2 ring-offset-discord-bg-secondary":"bg-discord-bg-tertiary text-discord-text-secondary hover:bg-discord-bg-hover"])},c(s),11,ke)),64))])]),e("div",Me,[t[31]||(t[31]=e("p",{class:"text-xs text-discord-text-secondary mb-1"},"Preview:",-1)),e("div",Se,[e("span",Ce,c(b.value),1),e("span",_e,c(m.value||"Genre Name"),1)])])]),e("div",Ve,[i(w,{onClick:k,variant:"ghost",size:"sm"},{default:l(()=>[...t[32]||(t[32]=[d("Cancel",-1)])]),_:1}),i(w,{onClick:F,size:"sm"},{default:l(()=>[...t[33]||(t[33]=[d("Add Genre",-1)])]),_:1})])])])):M("",!0)]),_:1}),i(V,{"enter-active-class":"transition-all duration-200 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-150 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:l(()=>[C.value?(a(),n("div",{key:0,class:"fixed inset-0 z-[150] flex items-center justify-center p-4",onClick:T(_,["self"])},[t[40]||(t[40]=e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm"},null,-1)),e("div",je,[e("div",Ge,[t[37]||(t[37]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20 mb-4"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t[38]||(t[38]=e("h3",{class:"text-lg font-bold text-white mb-2"},"Delete Genre",-1)),t[39]||(t[39]=e("p",{class:"text-discord-text-secondary text-sm mb-6"}," Are you sure you want to delete this genre? This action cannot be undone. ",-1)),e("div",ze,[i(w,{onClick:_,variant:"ghost",size:"sm"},{default:l(()=>[...t[35]||(t[35]=[d("Cancel",-1)])]),_:1}),i(w,{onClick:Q,variant:"danger",size:"sm"},{default:l(()=>[...t[36]||(t[36]=[d("Delete",-1)])]),_:1})])])])])):M("",!0)]),_:1})]))}};export{Ue as default};
