import{s as je,x as Me,o as Ue,w as ae,d as r,j as Pe,z as i,A as p,T as De,r as u,p as b,B as Be,c as n,C as x,e,h as y,n as D,t as d,k as B,F as Y,E as Z,q as re,f as ee,i as Ne,g as ie}from"./index-B9jCymwr.js";import{_ as Ee,a as N,S as q,b as G}from"./Select-DwgHBtPx.js";import{_ as Xe}from"./Toggle-BSRoALFV.js";import{I as E}from"./Input-Ci-NRMJZ.js";import{_ as ze}from"./RoleSelector-Ca18E82C.js";const $e={class:"space-y-6 pb-24"},Ae={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ie={class:"space-y-4"},He={class:"max-w-md"},Oe={class:"space-y-4"},Te={key:0,class:"text-center py-6 text-discord-text-tertiary text-sm italic"},Je={class:"mb-6 p-4 bg-discord-bg-tertiary rounded-lg border border-discord-bg-secondary"},qe={class:"flex flex-col md:flex-row gap-4 md:items-end"},Ge={class:"w-full md:w-24"},Ke={class:"flex-1"},Qe={class:"flex items-end gap-2 shrink-0"},We={class:"flex flex-col gap-2"},Ye={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ze={key:0},et={key:0,class:"flex flex-col gap-2"},tt={class:"flex items-center gap-4"},st={class:"flex flex-col items-center justify-center w-12 h-12 bg-discord-bg-tertiary rounded-lg border border-discord-bg-primary"},lt={class:"text-lg font-bold text-discord-blurple"},ot={class:"flex items-center gap-2"},at={key:0,class:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-discord-green/20 text-discord-green border border-discord-green/30 uppercase"},rt={class:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},it=["onClick"],nt=["onClick"],dt={key:1,class:"bg-discord-bg-tertiary px-4 py-3 rounded-lg"},ut={class:"flex items-center gap-2 flex-1 mb-2"},ct={class:"flex items-center gap-2 pb-2"},vt=["checked"],pt={class:"flex gap-2"},gt={key:1,class:"text-center py-8 text-discord-text-secondary"},xt={key:0,class:"flex flex-col items-center justify-center py-16 gap-4"},mt={key:1,class:"text-center py-16"},bt={class:"text-discord-text-secondary"},ft={key:2,class:"mb-8 overflow-x-auto"},ht={class:"flex items-end justify-center gap-2 sm:gap-4 min-w-[300px] scale-[0.85] sm:scale-100 origin-center"},wt={class:"flex flex-col items-center"},kt={class:"relative mb-2"},yt=["src"],_t={class:"text-center"},Ct={class:"text-white font-semibold text-sm truncate max-w-[100px]"},St={class:"text-discord-text-tertiary text-xs"},Lt={class:"flex flex-col items-center -mt-4"},Vt={class:"relative mb-2"},Ft=["src"],Rt={class:"text-center"},jt={class:"text-white font-semibold truncate max-w-[120px]"},Mt={class:"text-discord-text-tertiary text-xs"},Ut={class:"flex flex-col items-center"},Pt={class:"relative mb-2"},Dt=["src"],Bt={class:"text-center"},Nt={class:"text-white font-semibold text-sm truncate max-w-[100px]"},Et={class:"text-discord-text-tertiary text-xs"},Xt={class:"flex flex-col sm:flex-row gap-4 mb-6"},zt={class:"flex-1"},$t={class:"w-32"},At={key:3,class:"space-y-3"},It={class:"flex items-center gap-4"},Ht={class:"text-sm"},Ot={class:"relative shrink-0"},Tt=["src"],Jt={class:"flex-1 min-w-0"},qt={key:0,class:"flex items-center gap-4"},Gt={class:"text-white font-semibold"},Kt={class:"text-discord-text-tertiary text-xs"},Qt={class:"flex items-center gap-2 ml-auto"},Wt={class:"flex flex-col"},Yt={class:"flex flex-col"},Zt={key:1,class:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4"},es={class:"min-w-0"},ts={class:"text-white font-semibold truncate"},ss={class:"text-discord-text-tertiary text-xs"},ls={class:"flex items-center gap-4 sm:ml-auto"},os={class:"flex flex-col items-center px-3 py-1 bg-discord-bg-tertiary rounded-lg"},as={class:"text-lg font-bold text-discord-blurple"},rs={class:"flex-1 sm:w-40"},is={class:"flex justify-between text-xs mb-1"},ns={class:"text-discord-text-secondary"},ds={class:"h-2 bg-discord-bg-primary rounded-full overflow-hidden"},us={class:"text-right hidden sm:block"},cs={class:"text-sm font-semibold text-discord-text-primary"},vs={key:0,class:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity shrink-0"},ps=["onClick"],gs=["onClick"],xs={key:4,class:"flex items-center justify-center gap-3 mt-6 pt-6 border-t border-discord-bg-tertiary"},ms=["disabled"],bs={class:"flex items-center gap-1"},fs={class:"px-3 py-1 bg-discord-blurple rounded-lg text-sm font-semibold text-white"},hs={class:"text-discord-text-secondary text-sm"},ws=["disabled"],ks={key:0,class:"fixed bottom-6 right-6 z-50 flex items-center gap-4 bg-discord-bg-primary px-6 py-3 rounded-lg shadow-2xl border border-discord-bg-tertiary"},ys={class:"text-sm text-discord-text-secondary"},_s={__name:"LevelingView",setup(Cs){const ne=Be(),a=je(),X=Me(),c=b(()=>ne.params.guildId),z=u(""),$=u(""),_=u(!1),A=u(null),j=u(""),M=u(""),C=u(!1),f=u(null),h=u(""),w=u(""),S=u(""),U=u(""),I=u(null),K=u(!1),L=u(""),V=u(0),P=u(25),de=u("total_xp"),ue=u("desc"),ce=[{value:10,label:"10 / hal"},{value:25,label:"25 / hal"},{value:50,label:"50 / hal"},{value:100,label:"100 / hal"}],m=b(()=>{if(!L.value)return a.leaderboard;const s=L.value.toLowerCase();return a.leaderboard.filter(t=>{var l,v;return((l=t.username)==null?void 0:l.toLowerCase().includes(s))||((v=t.display_name)==null?void 0:v.toLowerCase().includes(s))})}),ve=b(()=>{const s=[...m.value];return s.sort((t,l)=>(l.total_xp||0)-(t.total_xp||0)),s}),te=b(()=>{const s=[...m.value],t=de.value,l=ue.value==="asc"?1:-1;return s.sort((v,J)=>{let F=v[t],R=J[t];return(t==="username"||t==="display_name")&&(F=(F||"").toLowerCase(),R=(R||"").toLowerCase()),F<R?-1*l:F>R?1*l:0}),s}),Q=b(()=>Math.ceil(te.value.length/P.value)),pe=b(()=>{const s=V.value*P.value,t=s+P.value;return te.value.slice(s,t).map((l,v)=>({...l,displayRank:s+v+1}))});function g(s){return ve.value.findIndex(t=>t.user_id===s.user_id)+1}const W=b(()=>X.getRoleOptions(c.value)),ge=b(()=>X.getChannelOptions(c.value)),xe=b(()=>{const s=X.roles[c.value]||[],t=new Map;for(const l of s)t.set(String(l.id),l);return t});function me(s){return xe.value.get(String(s))}function H(s){const t=me(s.role_id);return t?{name:t.name,color:t.color}:{name:`Unknown Role (${s.role_id})`,color:null}}const k=u(""),be=b(()=>{let s=!1;k.value&&(s=JSON.stringify(a.levelingSettings)!==k.value);let t=!1;return f.value&&S.value!==""&&U.value!==""&&(t=h.value!==S.value||w.value!==U.value),s||t}),fe=b(()=>{const s=k.value&&JSON.stringify(a.levelingSettings)!==k.value,t=f.value&&S.value!==""&&(h.value!==S.value||w.value!==U.value);return s&&t?"Perubahan pengaturan & XP user belum disimpan":t?"Perubahan XP user belum disimpan":"Perubahan pengaturan belum disimpan"});function he(){k.value=JSON.stringify(a.levelingSettings)}Ue(()=>{se()}),ae(c,()=>{k.value="",se()}),ae([L,P],()=>{V.value=0});async function se(){K.value=!0,await Promise.all([a.loadLevelingSettings(c.value),a.loadLevelRoles(c.value),a.loadExcludedRoles(c.value),a.loadLeaderboard(c.value,500),X.loadRoles(c.value),X.loadChannels(c.value)]),k.value=JSON.stringify(a.levelingSettings),K.value=!1}async function we(){if(f.value&&I.value){if(!h.value||isNaN(h.value)||w.value===""||isNaN(w.value)){a.showStatus("Please enter level and XP","error");return}await a.setUserXp(c.value,I.value.user_id,parseInt(h.value),parseInt(w.value))}const s=JSON.stringify(a.levelingSettings);k.value&&s!==k.value&&await a.saveLevelingSettings(c.value)&&he(),f.value&&(f.value=null,h.value="",w.value="",S.value="",U.value="",I.value=null)}async function ke(){if(!z.value||!$.value){a.showStatus("Please enter level and role","error");return}await a.addLevelRole(c.value,parseInt(z.value),$.value,_.value),z.value="",$.value="",_.value=!1}function ye(s){A.value=s.id,j.value=s.level.toString(),M.value=s.role_id,C.value=!!s.stack}function _e(){A.value=null,j.value="",M.value="",C.value=!1}async function Ce(s){if(!j.value||!M.value){a.showStatus("Please enter level and role","error");return}await a.updateLevelRole(c.value,s.level,s.role_id,parseInt(j.value),M.value,C.value),A.value=null}async function Se(s){await a.removeLevelRole(c.value,s.level,s.role_id)}async function Le(s){a.excludedRoles.includes(s)?await a.removeExcludedRole(c.value,s):await a.addExcludedRole(c.value,s)}function Ve(s){f.value=s.user_id,h.value=s.level.toString(),w.value=s.xp.toString(),S.value=s.level.toString(),U.value=s.xp.toString(),I.value=s}function Fe(){f.value=null,h.value="",w.value="",S.value="",U.value="",I.value=null}async function Re(s){confirm(`Reset XP for user ${s.username||s.user_id}?`)&&await a.resetUserXp(c.value,s.user_id)}function le(s){return 150+s*50}function T(s){return s.avatar_url?s.avatar_url.replace(/\.(png|jpg|jpeg|webp|gif)$/,""):`https://cdn.discordapp.com/embed/avatars/${(s.user_id||0)%5}.png`}return(s,t)=>(n(),r("div",$e,[t[56]||(t[56]=Pe('<div class="flex items-center justify-between" data-v-c385e656><div class="flex items-center gap-3" data-v-c385e656><div class="w-10 h-10 bg-gradient-to-br from-discord-blurple to-indigo-600 rounded-xl flex items-center justify-center shadow-lg" data-v-c385e656><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-c385e656><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" data-v-c385e656></path></svg></div><div data-v-c385e656><h2 class="text-xl font-bold text-white" data-v-c385e656>Leveling System</h2><p class="text-discord-text-secondary text-sm" data-v-c385e656>Configure XP and level rewards</p></div></div></div>',1)),i(N,null,{title:p(()=>[...t[17]||(t[17]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),e("span",null,"Enable Leveling")],-1)])]),default:p(()=>[i(Xe,{modelValue:x(a).levelingSettings.enabled,"onUpdate:modelValue":t[0]||(t[0]=l=>x(a).levelingSettings.enabled=l),label:"Enable Leveling",description:"Allow members to gain XP and level up"},null,8,["modelValue"])]),_:1}),i(N,null,{title:p(()=>[...t[18]||(t[18]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("span",null,"XP Configuration")],-1)])]),default:p(()=>[e("div",Ae,[i(E,{modelValue:x(a).levelingSettings.xp_per_message,"onUpdate:modelValue":t[1]||(t[1]=l=>x(a).levelingSettings.xp_per_message=l),modelModifiers:{number:!0},type:"number",label:"XP per Message",min:1,max:100},null,8,["modelValue"]),i(E,{modelValue:x(a).levelingSettings.cooldown_seconds,"onUpdate:modelValue":t[2]||(t[2]=l=>x(a).levelingSettings.cooldown_seconds=l),modelModifiers:{number:!0},type:"number",label:"Cooldown (seconds)",min:3,max:3600,description:"Time between XP gains per user"},null,8,["modelValue"]),i(E,{modelValue:x(a).levelingSettings.min_message_length,"onUpdate:modelValue":t[3]||(t[3]=l=>x(a).levelingSettings.min_message_length=l),modelModifiers:{number:!0},type:"number",label:"Min. Karakter",min:0,max:2e3,description:"Minimal karakter untuk dapat XP"},null,8,["modelValue"])])]),_:1}),i(N,null,{title:p(()=>[...t[19]||(t[19]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),e("span",null,"Notifikasi Level Up")],-1)])]),default:p(()=>[e("div",Ie,[t[20]||(t[20]=e("p",{class:"text-discord-text-secondary text-sm"}," Pilih channel di mana bot akan mengirim notifikasi saat member naik level ",-1)),e("div",He,[i(q,{modelValue:x(a).levelingSettings.level_up_channel_id,"onUpdate:modelValue":t[4]||(t[4]=l=>x(a).levelingSettings.level_up_channel_id=l),label:"Level Up Channel",placeholder:"Pilih channel (opsional)",options:ge.value},null,8,["modelValue","options"])]),t[21]||(t[21]=e("p",{class:"text-xs text-discord-text-secondary"}," * Jika tidak dipilih, notifikasi level up akan dikirim di channel tempat message terkirim. ",-1))])]),_:1}),i(N,null,{title:p(()=>[...t[22]||(t[22]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})]),e("span",null,"Pengecualian Role")],-1)])]),default:p(()=>[e("div",Oe,[t[23]||(t[23]=e("p",{class:"text-discord-text-secondary text-sm"}," Role di bawah ini tidak akan mendapatkan XP dan tidak muncul di leaderboard. ",-1)),i(ze,{roles:W.value,"selected-ids":x(a).excludedRoles,onToggle:Le},null,8,["roles","selected-ids"]),x(a).excludedRoles.length===0?(n(),r("div",Te," Tidak ada role yang dikecualikan ")):y("",!0)])]),_:1}),i(N,null,{title:p(()=>[...t[24]||(t[24]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})]),e("div",{class:"flex items-center gap-2"},[e("h3",{class:"text-lg font-semibold"},"Level Roles"),e("div",{class:"tooltip-wrapper group relative"},[e("span",{class:"tooltip-icon text-discord-text-tertiary cursor-help border border-discord-text-tertiary rounded-full w-4 h-4 flex items-center justify-center text-xs"},"?"),e("div",{class:"tooltip-text absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-3 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-64 text-center pointer-events-none z-10 shadow-lg"}," Role will be automatically assigned when member reaches the level. ")])])],-1)])]),default:p(()=>[e("div",Je,[t[28]||(t[28]=e("h4",{class:"text-sm font-semibold text-discord-text-secondary uppercase mb-3"},"Add New Level Role",-1)),e("div",qe,[e("div",Ge,[i(E,{modelValue:z.value,"onUpdate:modelValue":t[5]||(t[5]=l=>z.value=l),type:"number",label:"Level",placeholder:"10"},null,8,["modelValue"])]),e("div",Ke,[i(q,{modelValue:$.value,"onUpdate:modelValue":t[6]||(t[6]=l=>$.value=l),label:"Role Reward",placeholder:"Select a role...",options:W.value},null,8,["modelValue","options"])]),e("div",Qe,[e("div",We,[t[26]||(t[26]=e("div",{class:"flex items-center gap-1"},[e("label",{class:"text-sm font-medium text-discord-text-secondary"},"Stack"),e("div",{class:"group relative"},[e("span",{class:"text-discord-text-tertiary cursor-help border border-discord-text-tertiary rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]"},"?"),e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-2 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48 text-center pointer-events-none z-10 shadow-lg"}," Jika diaktifkan, user akan mempertahankan role sebelumnya saat naik level. ")])],-1)),e("button",{onClick:t[7]||(t[7]=l=>_.value=!_.value),class:D(["h-[42px] px-4 rounded border transition-colors flex items-center gap-2 whitespace-nowrap",_.value?"bg-discord-green/20 border-discord-green text-discord-green":"bg-discord-bg-secondary border-discord-bg-primary text-discord-text-secondary hover:border-discord-text-secondary"]),type:"button",title:"If stacked, user keeps previous roles"},[_.value?(n(),r("svg",Ye,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):y("",!0),e("span",null,d(_.value?"Stacked":"No Stack"),1)],2)]),i(G,{onClick:ke,class:"h-[42px] px-6"},{default:p(()=>[...t[27]||(t[27]=[B(" Add ",-1)])]),_:1})])])]),x(a).levelRoles.length>0?(n(),r("div",Ze,[A.value?(n(),r("div",dt,[(n(!0),r(Y,null,Z(x(a).levelRoles,l=>ee((n(),r("div",{key:l.id},[e("div",ut,[i(E,{modelValue:j.value,"onUpdate:modelValue":t[8]||(t[8]=v=>j.value=v),type:"number",label:"Level",class:"w-24",min:1},null,8,["modelValue"]),i(q,{modelValue:M.value,"onUpdate:modelValue":t[9]||(t[9]=v=>M.value=v),label:"Role",placeholder:"Select role",options:W.value,class:"flex-1"},null,8,["modelValue","options"]),e("div",ct,[t[32]||(t[32]=e("label",{class:"text-sm text-discord-text-secondary"},"Stack",-1)),e("button",{onClick:t[10]||(t[10]=v=>C.value=!C.value),class:D(["toggle-switch w-10",{active:C.value}]),type:"button"},[e("input",{type:"checkbox",checked:C.value,class:"hidden"},null,8,vt)],2)])]),e("div",pt,[i(G,{variant:"secondary",onClick:_e},{default:p(()=>[...t[33]||(t[33]=[B("Cancel",-1)])]),_:1}),i(G,{onClick:v=>Ce(l)},{default:p(()=>[...t[34]||(t[34]=[B("Save",-1)])]),_:1},8,["onClick"])])])),[[Ne,A.value===l.id]])),128))])):(n(),r("div",et,[(n(!0),r(Y,null,Z(x(a).levelRoles,l=>(n(),r("div",{key:l.id,class:"flex items-center justify-between p-3 bg-discord-bg-secondary rounded-lg hover:bg-discord-bg-tertiary transition-colors border border-transparent hover:border-discord-blurple group"},[e("div",tt,[e("div",st,[t[29]||(t[29]=e("span",{class:"text-[10px] text-discord-text-secondary uppercase"},"Level",-1)),e("span",lt,d(l.level),1)]),e("div",null,[e("div",ot,[e("span",{class:"px-2 py-0.5 rounded text-sm font-medium",style:re({backgroundColor:H(l).color?"#"+H(l).color.toString(16).padStart(6,"0")+"20":"#5865f220",color:H(l).color?"#"+H(l).color.toString(16).padStart(6,"0"):"#5865f2"})}," @"+d(H(l).name),5),l.stack?(n(),r("span",at,"Stack")):y("",!0)])])]),e("div",rt,[e("button",{onClick:v=>ye(l),class:"p-2 text-discord-text-secondary hover:text-white hover:bg-discord-bg-primary rounded transition-colors",title:"Edit"},[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,it),e("button",{onClick:v=>Se(l),class:"p-2 text-discord-text-secondary hover:text-discord-red hover:bg-discord-bg-primary rounded transition-colors",title:"Delete"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,nt)])]))),128))]))])):(n(),r("div",gt,[...t[35]||(t[35]=[e("p",null,"No level roles configured yet",-1)])]))]),_:1}),i(N,null,{title:p(()=>[...t[36]||(t[36]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-yellow",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M5 3h14c.55 0 1 .45 1 1v2c0 2.21-1.79 4-4 4h-.24c-.45 1.41-1.6 2.54-3.01 2.91V16h2.5c.83 0 1.5.67 1.5 1.5v.5H7.25v-.5c0-.83.67-1.5 1.5-1.5h2.5v-3.09c-1.41-.37-2.56-1.5-3.01-2.91H8c-2.21 0-4-1.79-4-4V4c0-.55.45-1 1-1zm1 3V5h2v1.5C8 7.33 7.33 8 6.5 8H6V6zm12 0V5h-2v1.5c0 .83.67 1.5 1.5 1.5h.5V6z"})]),e("span",null,"Leaderboard")],-1)])]),default:p(()=>{var l,v,J,F,R,oe;return[K.value?(n(),r("div",xt,[...t[37]||(t[37]=[e("div",{class:"w-10 h-10 border-3 border-discord-blurple border-t-transparent rounded-full animate-spin"},null,-1),e("span",{class:"text-discord-text-secondary"},"Loading leaderboard...",-1)])])):m.value.length===0?(n(),r("div",mt,[t[38]||(t[38]=e("svg",{class:"w-16 h-16 mx-auto text-discord-text-tertiary mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("p",bt,d(L.value?"No users found matching your search":"No users on the leaderboard yet"),1)])):y("",!0),m.value.length>=3&&!L.value?(n(),r("div",ft,[e("div",ht,[e("div",wt,[e("div",kt,[e("img",{src:T(m.value[1]),class:"w-16 h-16 rounded-full object-cover ring-4 ring-[#C0C0C0] shadow-lg",onerror:"this.src='https://cdn.discordapp.com/embed/avatars/0.png'"},null,8,yt),t[39]||(t[39]=e("div",{class:"absolute -bottom-1 -right-1 w-6 h-6 bg-[#C0C0C0] rounded-full flex items-center justify-center text-black font-bold text-sm shadow"},"2",-1))]),e("div",_t,[e("div",Ct,d(((l=m.value[1])==null?void 0:l.display_name)||"Unknown"),1),e("div",St,"Lv. "+d((v=m.value[1])==null?void 0:v.level),1)]),t[40]||(t[40]=e("div",{class:"w-24 h-20 bg-gradient-to-t from-[#C0C0C0]/30 to-[#C0C0C0]/10 rounded-t-lg mt-2 flex items-end justify-center pb-2"},[e("span",{class:"text-[#C0C0C0] font-bold text-2xl"},"2")],-1))]),e("div",Lt,[e("div",Vt,[t[41]||(t[41]=e("svg",{class:"w-8 h-8 text-[#FFD700] absolute -top-6 left-1/2 -translate-x-1/2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M5 16L3 5l5.5 5L12 4l3.5 6L21 5l-2 11H5zm14 3c0 .6-.4 1-1 1H6c-.6 0-1-.4-1-1v-1h14v1z"})],-1)),e("img",{src:T(m.value[0]),class:"w-20 h-20 rounded-full object-cover ring-4 ring-[#FFD700] shadow-xl",onerror:"this.src='https://cdn.discordapp.com/embed/avatars/0.png'"},null,8,Ft),t[42]||(t[42]=e("div",{class:"absolute -bottom-1 -right-1 w-7 h-7 bg-[#FFD700] rounded-full flex items-center justify-center text-black font-bold shadow"},"1",-1))]),e("div",Rt,[e("div",jt,d(((J=m.value[0])==null?void 0:J.display_name)||"Unknown"),1),e("div",Mt,"Lv. "+d((F=m.value[0])==null?void 0:F.level),1)]),t[43]||(t[43]=e("div",{class:"w-28 h-28 bg-gradient-to-t from-[#FFD700]/30 to-[#FFD700]/10 rounded-t-lg mt-2 flex items-end justify-center pb-2"},[e("span",{class:"text-[#FFD700] font-bold text-3xl"},"1")],-1))]),e("div",Ut,[e("div",Pt,[e("img",{src:T(m.value[2]),class:"w-16 h-16 rounded-full object-cover ring-4 ring-[#CD7F32] shadow-lg",onerror:"this.src='https://cdn.discordapp.com/embed/avatars/0.png'"},null,8,Dt),t[44]||(t[44]=e("div",{class:"absolute -bottom-1 -right-1 w-6 h-6 bg-[#CD7F32] rounded-full flex items-center justify-center text-black font-bold text-sm shadow"},"3",-1))]),e("div",Bt,[e("div",Nt,d(((R=m.value[2])==null?void 0:R.display_name)||"Unknown"),1),e("div",Et,"Lv. "+d((oe=m.value[2])==null?void 0:oe.level),1)]),t[45]||(t[45]=e("div",{class:"w-24 h-16 bg-gradient-to-t from-[#CD7F32]/30 to-[#CD7F32]/10 rounded-t-lg mt-2 flex items-end justify-center pb-2"},[e("span",{class:"text-[#CD7F32] font-bold text-2xl"},"3")],-1))])])])):y("",!0),e("div",Xt,[e("div",zt,[i(E,{modelValue:L.value,"onUpdate:modelValue":t[11]||(t[11]=o=>L.value=o),placeholder:"Search by username or display name..."},null,8,["modelValue"])]),e("div",$t,[i(q,{modelValue:P.value,"onUpdate:modelValue":t[12]||(t[12]=o=>P.value=o),modelModifiers:{number:!0},options:ce},null,8,["modelValue"])])]),m.value.length>0?(n(),r("div",At,[(n(!0),r(Y,null,Z(pe.value,o=>(n(),r("div",{key:o.user_id,class:D(["relative p-4 rounded-xl transition-all duration-200 group",[g(o)===1?"bg-gradient-to-r from-[#FFD700]/10 to-transparent border border-[#FFD700]/30":g(o)===2?"bg-gradient-to-r from-[#C0C0C0]/10 to-transparent border border-[#C0C0C0]/30":g(o)===3?"bg-gradient-to-r from-[#CD7F32]/10 to-transparent border border-[#CD7F32]/30":"bg-discord-bg-secondary hover:bg-discord-bg-tertiary border border-transparent",f.value===o.user_id?"ring-2 ring-discord-blurple":""]])},[e("div",It,[e("div",{class:D(["w-10 h-10 flex items-center justify-center rounded-xl font-bold text-lg shrink-0",{"bg-[#FFD700] text-black shadow-lg shadow-[#FFD700]/30":g(o)===1,"bg-[#C0C0C0] text-black shadow-lg shadow-[#C0C0C0]/30":g(o)===2,"bg-[#CD7F32] text-black shadow-lg shadow-[#CD7F32]/30":g(o)===3,"bg-discord-bg-tertiary text-discord-text-secondary":g(o)>3}])},[e("span",Ht,d(g(o)),1)],2),e("div",Ot,[e("img",{src:T(o),class:D(["w-12 h-12 rounded-full object-cover ring-2",{"ring-[#FFD700]":g(o)===1,"ring-[#C0C0C0]":g(o)===2,"ring-[#CD7F32]":g(o)===3,"ring-discord-bg-tertiary":g(o)>3}]),onerror:"this.src='https://cdn.discordapp.com/embed/avatars/0.png'",alt:"Avatar"},null,10,Tt)]),e("div",Jt,[f.value===o.user_id?(n(),r("div",qt,[e("div",null,[e("div",Gt,d(o.display_name||"Unknown User"),1),e("div",Kt,"@"+d(o.username||"unknown"),1)]),e("div",Qt,[e("div",Wt,[t[46]||(t[46]=e("label",{class:"text-[10px] text-discord-text-tertiary uppercase"},"Level",-1)),ee(e("input",{"onUpdate:modelValue":t[13]||(t[13]=O=>h.value=O),type:"number",class:"w-16 bg-discord-bg-primary border border-discord-bg-tertiary rounded px-2 py-1 text-white text-sm focus:ring-1 focus:ring-discord-blurple",min:1},null,512),[[ie,h.value,void 0,{number:!0}]])]),e("div",Yt,[t[47]||(t[47]=e("label",{class:"text-[10px] text-discord-text-tertiary uppercase"},"XP",-1)),ee(e("input",{"onUpdate:modelValue":t[14]||(t[14]=O=>w.value=O),type:"number",class:"w-20 bg-discord-bg-primary border border-discord-bg-tertiary rounded px-2 py-1 text-white text-sm focus:ring-1 focus:ring-discord-blurple",min:0},null,512),[[ie,w.value,void 0,{number:!0}]])]),e("button",{onClick:Fe,class:"p-2 text-discord-text-secondary hover:text-white hover:bg-discord-bg-primary rounded-lg transition-colors",title:"Cancel"},[...t[48]||(t[48]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):(n(),r("div",Zt,[e("div",es,[e("div",ts,d(o.display_name||"Unknown User"),1),e("div",ss,"@"+d(o.username||"unknown"),1)]),e("div",ls,[e("div",os,[t[49]||(t[49]=e("span",{class:"text-[10px] text-discord-text-tertiary uppercase"},"Level",-1)),e("span",as,d(o.level),1)]),e("div",rs,[e("div",is,[e("span",ns,d(o.xp)+" / "+d(le(o.level))+" XP",1)]),e("div",ds,[e("div",{class:D(["h-full rounded-full transition-all duration-500",{"bg-gradient-to-r from-[#FFD700] to-[#FFA500]":g(o)===1,"bg-gradient-to-r from-[#C0C0C0] to-[#A0A0A0]":g(o)===2,"bg-gradient-to-r from-[#CD7F32] to-[#A0522D]":g(o)===3,"bg-gradient-to-r from-discord-blurple to-discord-blurple-dark":g(o)>3}]),style:re({width:`${Math.min(o.xp/le(o.level)*100,100)}%`})},null,6)])]),e("div",us,[t[50]||(t[50]=e("div",{class:"text-[10px] text-discord-text-tertiary uppercase"},"Total",-1)),e("div",cs,d(o.total_xp.toLocaleString())+" XP",1)])])]))]),f.value!==o.user_id?(n(),r("div",vs,[e("button",{onClick:O=>Ve(o),class:"p-2 text-discord-text-secondary hover:text-discord-blurple hover:bg-discord-bg-primary rounded-lg transition-colors",title:"Edit"},[...t[51]||(t[51]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])],8,ps),e("button",{onClick:O=>Re(o),class:"p-2 text-discord-text-secondary hover:text-discord-red hover:bg-discord-bg-primary rounded-lg transition-colors",title:"Reset"},[...t[52]||(t[52]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,gs)])):y("",!0)])],2))),128))])):y("",!0),Q.value>1?(n(),r("div",xs,[e("button",{onClick:t[15]||(t[15]=o=>V.value--),disabled:V.value===0,class:"px-4 py-2 bg-discord-bg-secondary hover:bg-discord-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm text-white flex items-center gap-2 transition-colors"},[...t[53]||(t[53]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),B(" Previous ",-1)])],8,ms),e("div",bs,[e("span",fs,d(V.value+1),1),e("span",hs,"of "+d(Q.value),1)]),e("button",{onClick:t[16]||(t[16]=o=>V.value++),disabled:V.value>=Q.value-1,class:"px-4 py-2 bg-discord-bg-secondary hover:bg-discord-bg-tertiary disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm text-white flex items-center gap-2 transition-colors"},[...t[54]||(t[54]=[B(" Next ",-1),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,ws)])):y("",!0)]}),_:1}),i(De,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"translate-y-20 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-20 opacity-0"},{default:p(()=>[be.value?(n(),r("div",ks,[e("span",ys,d(fe.value),1),i(G,{onClick:we},{default:p(()=>[...t[55]||(t[55]=[B("Simpan Perubahan",-1)])]),_:1})])):y("",!0)]),_:1})]))}},js=Ee(_s,[["__scopeId","data-v-c385e656"]]);export{js as default};
