import{s as A,x as _,o as j,w as O,d,j as z,z as r,A as i,e,T as N,p as c,r as L,B as q,c as u,C as n,k as p,n as P,t as v,h as w,f as G,g as U}from"./index-B9jCymwr.js";import{a as h,S,b as H}from"./Select-DwgHBtPx.js";import{_ as D}from"./Toggle-BSRoALFV.js";import{I as k}from"./Input-Ci-NRMJZ.js";const E={class:"space-y-6 pb-24"},T={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},R={class:"space-y-4"},J={class:"flex items-start gap-3"},$={class:"flex-shrink-0 w-6 h-6 flex items-center justify-center"},Q={key:0,class:"w-3 h-3 rounded-full bg-green-500"},Y={key:1,class:"w-3 h-3 rounded-full bg-yellow-500"},F={key:2},W={key:3},X={key:4},Z={key:5,class:"w-3 h-3 rounded-full bg-gray-500"},ee={class:"flex-1"},te={class:"text-white font-medium"},se={class:"mt-2 grid grid-cols-2 gap-x-4 gap-y-1 text-sm text-discord-text-secondary"},oe={class:"flex items-center gap-1"},ae={class:"flex items-center gap-1"},le={class:"flex items-center gap-1"},re={class:"flex items-center gap-1"},ne={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-discord-bg-tertiary"},ie={class:"space-y-4"},de={class:"flex items-start gap-2 text-sm"},ue={key:0,class:"text-discord-green flex items-center gap-1"},pe={key:1,class:"text-discord-text-tertiary flex items-center gap-1"},ce={key:0,class:"fixed bottom-6 right-6 z-50 flex items-center gap-4 bg-discord-bg-primary px-6 py-3 rounded-lg shadow-2xl border border-discord-bg-tertiary"},ke={__name:"ChatbotView",setup(me){const M=q(),s=A(),x=_(),m=c(()=>M.params.guildId),K=c(()=>x.getChannelOptions(m.value)),b=[{value:"llama-3.1-8b-instant",label:"Llama 3.1 8B Instant",tier:"recommended",rpm:30,rpd:"14.4K",tpm:"6K",tpd:"500K",desc:"Cepat & hemat quota. Cocok untuk server aktif."},{value:"llama-3.3-70b-versatile",label:"Llama 3.3 70B Versatile",tier:"recommended",rpm:30,rpd:"1K",tpm:"12K",tpd:"100K",desc:"Kualitas terbaik, tapi quota terbatas (1000/hari)."},{value:"meta-llama/llama-4-scout-17b-16e-instruct",label:"Llama 4 Scout 17B",tier:"vision",rpm:30,rpd:"1K",tpm:"30K",tpd:"500K",desc:"VISION MODEL - Bisa analisis gambar. Auto-dipakai saat kirim gambar."},{value:"meta-llama/llama-4-maverick-17b-128e-instruct",label:"Llama 4 Maverick 17B",tier:"vision",rpm:30,rpd:"1K",tpm:"6K",tpd:"500K",desc:"VISION MODEL - 128K context window, bisa analisis gambar."},{value:"moonshotai/kimi-k2-instruct",label:"Kimi K2 Instruct",tier:"good",rpm:60,rpd:"1K",tpm:"10K",tpd:"300K",desc:"60 RPM limit, cocok untuk high traffic."},{value:"openai/gpt-oss-20b",label:"GPT-OSS 20B (Reasoning)",tier:"reasoning",rpm:30,rpd:"1K",tpm:"8K",tpd:"200K",desc:"REASONING MODEL - Step-by-step analysis untuk soal kompleks."},{value:"openai/gpt-oss-120b",label:"GPT-OSS 120B (Reasoning)",tier:"reasoning",rpm:30,rpd:"1K",tpm:"8K",tpd:"200K",desc:"REASONING MODEL - 120B parameter, terbaik untuk problem solving."},{value:"qwen/qwen3-32b",label:"Qwen 3 32B (Reasoning)",tier:"reasoning",rpm:60,rpd:"1K",tpm:"6K",tpd:"500K",desc:"REASONING MODEL - 60 RPM, cocok untuk high traffic reasoning."},{value:"allam-2-7b",label:"Allam 2 7B",tier:"other",rpm:30,rpd:"7K",tpm:"6K",tpd:"500K",desc:"Model bahasa Arab."},{value:"groq/compound",label:"Groq Compound",tier:"other",rpm:30,rpd:"250",tpm:"70K",tpd:"Unlimited",desc:"Special purpose model. Unlimited tokens."},{value:"groq/compound-mini",label:"Groq Compound Mini",tier:"other",rpm:30,rpd:"250",tpm:"70K",tpd:"Unlimited",desc:"Special purpose model mini. Unlimited tokens."},{value:"meta-llama/llama-guard-4-12b",label:"Llama Guard 4 (Safety)",tier:"safety",rpm:30,rpd:"14.4K",tpm:"15K",tpd:"500K",desc:"Model safety - TIDAK untuk chatting."},{value:"openai/gpt-oss-safeguard-20b",label:"GPT-OSS Safeguard (Safety)",tier:"safety",rpm:30,rpd:"1K",tpm:"8K",tpd:"200K",desc:"Model safeguard - TIDAK untuk chatting."}],C=c(()=>b.map(a=>({value:a.value,label:a.label}))),o=c(()=>{const a=s.chatbotSettings.model_name||"llama-3.3-70b-versatile";return b.find(t=>t.value===a)||b[1]}),f=c({get:()=>{const a=s.chatbotSettings.enabled_channels;return(a==null?void 0:a[0])||""},set:a=>{a?s.chatbotSettings.enabled_channels=[a]:s.chatbotSettings.enabled_channels=[]}}),g=L(""),V=c(()=>g.value?JSON.stringify(s.chatbotSettings)!==g.value:!1);function B(){g.value=JSON.stringify(s.chatbotSettings)}j(()=>{y()}),O(m,()=>{g.value="",y()});async function y(){await Promise.all([s.loadChatbotSettings(m.value),x.loadChannels(m.value)]),g.value=JSON.stringify(s.chatbotSettings)}async function I(){await s.saveChatbotSettings(m.value)&&B()}return(a,t)=>(u(),d("div",E,[t[29]||(t[29]=z('<div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-discord-blurple to-purple-600 rounded-xl flex items-center justify-center shadow-lg"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></div><div><h2 class="text-xl font-bold text-white">AI Chatbot</h2><p class="text-discord-text-secondary text-sm">Configure the AI chatbot settings</p></div></div></div>',1)),r(h,null,{title:i(()=>[...t[7]||(t[7]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),e("span",null,"Power")],-1)])]),default:i(()=>[r(D,{modelValue:n(s).chatbotSettings.enabled,"onUpdate:modelValue":t[0]||(t[0]=l=>n(s).chatbotSettings.enabled=l),label:"Enable Chatbot",description:"Allow the bot to respond to messages using AI"},null,8,["modelValue"])]),_:1}),e("div",T,[r(h,null,{title:i(()=>[...t[8]||(t[8]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})]),e("span",null,"Channel")],-1)])]),default:i(()=>[t[9]||(t[9]=e("p",{class:"text-discord-text-secondary text-sm mb-4"}," Pilih channel di mana chatbot akan merespon pesan ",-1)),r(S,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=l=>f.value=l),label:"Chatbot Channel",placeholder:"Pilih channel",options:K.value},null,8,["modelValue","options"]),t[10]||(t[10]=e("p",{class:"text-xs text-discord-text-tertiary mt-2"}," Chatbot hanya akan merespon pesan di channel yang dipilih. ",-1))]),_:1}),r(h,null,{title:i(()=>[...t[11]||(t[11]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})]),e("span",null,"API Key (Groq)")],-1)])]),default:i(()=>[r(k,{modelValue:n(s).chatbotSettings.api_key,"onUpdate:modelValue":t[2]||(t[2]=l=>n(s).chatbotSettings.api_key=l),type:"password",label:"Groq API Key",placeholder:"gsk_..."},null,8,["modelValue"]),t[12]||(t[12]=e("p",{class:"text-xs text-discord-text-tertiary mt-2"},[p(" Dapatkan API key di "),e("a",{href:"https://console.groq.com/keys",target:"_blank",rel:"noopener noreferrer",class:"text-discord-blurple hover:underline"}," console.groq.com/keys ")],-1))]),_:1})]),r(h,null,{title:i(()=>[...t[13]||(t[13]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),e("span",null,"Model Configuration")],-1)])]),default:i(()=>[e("div",R,[r(S,{modelValue:n(s).chatbotSettings.model_name,"onUpdate:modelValue":t[3]||(t[3]=l=>n(s).chatbotSettings.model_name=l),label:"Pilih Model AI",placeholder:"Pilih model...",options:C.value},null,8,["modelValue","options"]),o.value?(u(),d("div",{key:0,class:P(["p-4 rounded-lg border",{"border-green-500/50 bg-green-500/10":o.value.tier==="recommended","border-yellow-500/50 bg-yellow-500/10":o.value.tier==="good","border-gray-500/50 bg-gray-500/10":o.value.tier==="other","border-red-500/50 bg-red-500/10":o.value.tier==="safety","border-purple-500/50 bg-purple-500/10":o.value.tier==="vision","border-orange-500/50 bg-orange-500/10":o.value.tier==="reasoning"}])},[e("div",J,[e("span",$,[o.value.tier==="recommended"?(u(),d("span",Q)):o.value.tier==="good"?(u(),d("span",Y)):o.value.tier==="safety"?(u(),d("span",F,[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})],-1)])])):o.value.tier==="vision"?(u(),d("span",W,[...t[15]||(t[15]=[e("svg",{class:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])])):o.value.tier==="reasoning"?(u(),d("span",X,[...t[16]||(t[16]=[e("svg",{class:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1)])])):(u(),d("span",Z))]),e("div",ee,[e("p",te,v(o.value.desc),1),e("div",se,[e("span",oe,[t[17]||(t[17]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),p(" "+v(o.value.rpm)+" req/min ",1)]),e("span",ae,[t[18]||(t[18]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),p(" "+v(o.value.rpd)+" req/day ",1)]),e("span",le,[t[19]||(t[19]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),p(" "+v(o.value.tpm)+" toks/min ",1)]),e("span",re,[t[20]||(t[20]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1)),p(" "+v(o.value.tpd)+" toks/day ",1)])])])])],2)):w("",!0),e("div",ne,[e("div",null,[t[21]||(t[21]=e("div",{class:"flex items-center gap-1 mb-2"},[e("label",{class:"text-sm font-medium text-discord-text-secondary"},"Max History Messages"),e("div",{class:"group relative"},[e("span",{class:"text-discord-text-tertiary cursor-help border border-discord-text-tertiary rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]"},"?"),e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-2 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48 text-center pointer-events-none z-10 shadow-lg"}," Jumlah pesan sebelumnya yang diingat AI dalam percakapan. Lebih tinggi = konteks lebih banyak. ")])],-1)),r(k,{modelValue:n(s).chatbotSettings.max_history,"onUpdate:modelValue":t[4]||(t[4]=l=>n(s).chatbotSettings.max_history=l),modelModifiers:{number:!0},type:"number",min:1,max:50},null,8,["modelValue"])]),e("div",null,[t[22]||(t[22]=e("div",{class:"flex items-center gap-1 mb-2"},[e("label",{class:"text-sm font-medium text-discord-text-secondary"},"Temperature (0.0 - 1.0)"),e("div",{class:"group relative"},[e("span",{class:"text-discord-text-tertiary cursor-help border border-discord-text-tertiary rounded-full w-3.5 h-3.5 flex items-center justify-center text-[10px]"},"?"),e("div",{class:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-2 bg-black text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48 text-center pointer-events-none z-10 shadow-lg"}," Kreativitas AI. 0 = sangat konsisten, 1 = lebih kreatif/random. ")])],-1)),r(k,{modelValue:n(s).chatbotSettings.temperature,"onUpdate:modelValue":t[5]||(t[5]=l=>n(s).chatbotSettings.temperature=l),modelModifiers:{number:!0},type:"number",min:0,max:1,step:.1},null,8,["modelValue"])])])])]),_:1}),r(h,null,{title:i(()=>[...t[23]||(t[23]=[e("div",{class:"flex items-center gap-2"},[e("svg",{class:"w-5 h-5 text-discord-green",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})]),e("span",null,"Personalisasi AI")],-1)])]),default:i(()=>[e("div",ie,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-discord-text-secondary mb-2"},"Custom Instructions",-1)),G(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=l=>n(s).chatbotSettings.system_prompt=l),class:"w-full min-h-[120px] resize-y bg-discord-bg-secondary border border-discord-bg-tertiary rounded-lg px-4 py-3 text-white placeholder-discord-text-tertiary focus:outline-none focus:ring-2 focus:ring-discord-blurple focus:border-transparent transition-all",placeholder:"Masukkan custom instructions untuk AI..."},null,512),[[U,n(s).chatbotSettings.system_prompt]])]),e("div",de,[n(s).chatbotSettings.system_prompt?(u(),d("span",ue,[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),p(" Custom instructions aktif ",-1)])])):(u(),d("span",pe,[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p(" Kosong = AI menggunakan perilaku default ",-1)])]))])])]),_:1}),r(N,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"translate-y-20 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-20 opacity-0"},{default:i(()=>[V.value?(u(),d("div",ce,[t[28]||(t[28]=e("span",{class:"text-sm text-discord-text-secondary"},"You have unsaved changes",-1)),r(H,{onClick:I},{default:i(()=>[...t[27]||(t[27]=[p("Save Changes",-1)])]),_:1})])):w("",!0)]),_:1})]))}};export{ke as default};
