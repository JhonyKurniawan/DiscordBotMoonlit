import{s as j,x as B,H as L,o as M,w as D,d as h,e,t as s,z as n,A as a,T as U,p as y,r as z,B as N,c as b,C as l,k as m,h as I}from"./index-B9jCymwr.js";import{a as p,S as O,b as _}from"./Select-DwgHBtPx.js";import{I as G}from"./Input-Ci-NRMJZ.js";import{_ as v}from"./Toggle-BSRoALFV.js";const J={class:"space-y-6 pb-24"},T={class:"flex items-center justify-between"},$={class:"flex items-center gap-3"},A={class:"text-xl font-bold text-white"},H={class:"text-discord-text-secondary text-sm"},P={class:"flex items-center gap-2"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"flex items-center justify-between p-3 bg-discord-bg-tertiary rounded-lg"},Z={class:"text-white font-medium"},q={class:"text-xs text-discord-text-tertiary"},F={class:"flex items-center gap-2"},K={class:"space-y-4"},Q={class:"flex items-center justify-between p-3 bg-discord-bg-tertiary rounded-lg"},W={class:"text-white font-medium"},X={class:"text-xs text-discord-text-tertiary"},Y={class:"flex items-center justify-between p-3 bg-discord-bg-tertiary rounded-lg"},ee={class:"text-white font-medium"},te={class:"text-xs text-discord-text-tertiary"},se={class:"flex items-center gap-2"},oe={class:"space-y-4"},ie={class:"p-4 border border-discord-red/30 rounded-lg bg-discord-red/5"},ne={class:"text-white font-medium mb-2"},ae={class:"text-sm text-discord-text-secondary mb-4"},le={class:"p-4 border border-discord-red/30 rounded-lg bg-discord-red/5"},de={class:"text-white font-medium mb-2"},re={class:"text-sm text-discord-text-secondary mb-4"},ce={key:0,class:"fixed bottom-6 right-6 z-50 flex items-center gap-4 bg-discord-bg-primary px-6 py-3 rounded-lg shadow-2xl border border-discord-bg-tertiary"},ue={class:"text-sm text-discord-text-secondary"},fe={__name:"SettingsView",setup(ge){const w=N(),i=j(),f=B(),g=L(),r=y(()=>w.params.guildId),c=z(""),S=y(()=>c.value?JSON.stringify(i.guildSettings)!==c.value:!1);function k(){c.value=JSON.stringify(i.guildSettings)}M(()=>{x()}),D(r,()=>{c.value="",x()});async function x(){await Promise.all([i.loadGuildSettings(r.value),f.loadChannels(r.value),f.loadRoles(r.value)]),c.value=JSON.stringify(i.guildSettings)}async function V(){await i.saveGuildSettings(r.value)&&k()}function C(u){g.setLocale(u)}const t=u=>g.t(u);return(u,o)=>(b(),h("div",J,[e("div",T,[e("div",$,[o[4]||(o[4]=e("div",{class:"w-10 h-10 bg-gradient-to-br from-gray-500 to-gray-700 rounded-xl flex items-center justify-center shadow-lg"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})])],-1)),e("div",null,[e("h2",A,s(t("settings.title")),1),e("p",H,s(t("settings.subtitle")),1)])])]),n(p,null,{title:a(()=>[e("div",P,[o[5]||(o[5]=e("svg",{class:"w-5 h-5 text-discord-blurple",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,s(t("settings.preferences")),1)])]),default:a(()=>[e("div",R,[n(O,{"model-value":l(g).currentLocale,"onUpdate:modelValue":C,label:t("settings.language"),placeholder:t("settings.languagePlaceholder"),options:l(g).availableLocales},null,8,["model-value","label","placeholder","options"]),n(G,{modelValue:l(i).guildSettings.prefix,"onUpdate:modelValue":o[0]||(o[0]=d=>l(i).guildSettings.prefix=d),label:t("settings.prefix"),placeholder:"!"},null,8,["modelValue","label"]),e("div",E,[e("div",null,[e("p",Z,s(t("settings.deleteMessages")),1),e("p",q,s(t("settings.deleteMessagesDesc")),1)]),n(v,{modelValue:l(i).guildSettings.delete_command_messages,"onUpdate:modelValue":o[1]||(o[1]=d=>l(i).guildSettings.delete_command_messages=d)},null,8,["modelValue"])])])]),_:1}),n(p,null,{title:a(()=>[e("div",F,[o[6]||(o[6]=e("svg",{class:"w-5 h-5 text-discord-yellow",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),e("span",null,s(t("settings.notifications")),1)])]),default:a(()=>[e("div",K,[e("div",Q,[e("div",null,[e("p",W,s(t("settings.dmLevelUp")),1),e("p",X,s(t("settings.dmLevelUpDesc")),1)]),n(v,{modelValue:l(i).guildSettings.dm_on_level_up,"onUpdate:modelValue":o[2]||(o[2]=d=>l(i).guildSettings.dm_on_level_up=d)},null,8,["modelValue"])]),e("div",Y,[e("div",null,[e("p",ee,s(t("settings.dmModeration")),1),e("p",te,s(t("settings.dmModerationDesc")),1)]),n(v,{modelValue:l(i).guildSettings.dm_on_moderation,"onUpdate:modelValue":o[3]||(o[3]=d=>l(i).guildSettings.dm_on_moderation=d)},null,8,["modelValue"])])])]),_:1}),n(p,null,{title:a(()=>[e("div",se,[o[7]||(o[7]=e("svg",{class:"w-5 h-5 text-discord-red",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("span",null,s(t("settings.dangerZone")),1)])]),default:a(()=>[e("div",oe,[e("div",ie,[e("h4",ne,s(t("settings.resetSettings")),1),e("p",ae,s(t("settings.resetSettingsDesc")),1),n(_,{variant:"danger",size:"sm"},{default:a(()=>[m(s(t("settings.resetButton")),1)]),_:1})]),e("div",le,[e("h4",de,s(t("settings.clearData")),1),e("p",re,s(t("settings.clearDataDesc")),1),n(_,{variant:"danger",size:"sm"},{default:a(()=>[m(s(t("settings.clearButton")),1)]),_:1})])])]),_:1}),n(U,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"translate-y-20 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition-all duration-300 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-20 opacity-0"},{default:a(()=>[S.value?(b(),h("div",ce,[e("span",ue,s(t("common.unsavedChanges")),1),n(_,{onClick:V},{default:a(()=>[m(s(t("common.save")),1)]),_:1})])):I("",!0)]),_:1})]))}};export{fe as default};
